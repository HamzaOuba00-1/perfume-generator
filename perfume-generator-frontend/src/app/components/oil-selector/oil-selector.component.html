<section class="selector" #selectorRoot>

  <div class="selector-header">
    <h2 class="selector-title">SELECT OILS</h2>
    <p>
      Choose from a variety of essential oils to create your unique perfume blend.
    </p>

    <div class="search" role="search">
      <div class="search-icon" aria-hidden="true">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
          <path
            d="M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15Z"
            stroke="rgba(28,27,24,0.9)"
            stroke-width="2"
          />
          <path
            d="M16.6 16.6 21 21"
            stroke="rgba(28,27,24,0.9)"
            stroke-width="2"
            stroke-linecap="round"
          />
        </svg>
      </div>

      <input
        class="search-input"
        type="search"
        [value]="query"
        (input)="onQueryInput(($any($event.target)).value)"
        aria-label="Search oils"
        placeholder="Search oils..."
      />
    </div>
  </div>

  <div class="cards-wrap">
    <div class="cards-grid">
      <app-oil-card
        *ngFor="let oil of filteredOils; trackBy: trackById"
        [oil]="oil"
        [selected]="isSelected(oil)"
        (toggle)="toggleOil.emit(oil)"
      ></app-oil-card>
    </div>
  </div>
</section>

<div
  class="selector-fixed-action"
  [class.visible]="showGenerate"
>
  <button
    class="generate-btn"
    [disabled]="selectedOils.length < 1"
    (click)="generate.emit()"
  >
    Generate Perfume
  </button>
</div>
